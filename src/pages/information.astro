---
import Layout from "../layouts/Layout.astro";
import * as Plot from "@observablehq/plot";
import CarteGareTouriste from "../components/carte-gare-touriste.astro";
import GraphGareDpt from "../components/graph-gare-dpt.astro";
import CarteGareDpt from "../components/carte-gare-dpt.astro";
import Camembert from "../components/camembert-gare.astro";
import CarteTrajet from "../components/carte-trajet.astro";
import CarteTouristeLeaflet from "../components/carte-touriste-leaflet.astro";
import CarteGareAccessibles from "../components/carte-gare-accessibles.astro";
import GraphTourismeFerroviaire from "../components/graph-tourisme-ferroviaire.astro";  
---

<Layout>
  <div class="space-y-12">
    <!-- Introduction + Carte Touriste -->
    <section class="flex flex-wrap items-start justify-between gap-8 lg:gap-12 mx-4 md:mx-16 mt-8">
      <div class="flex-1 basis-[60%] text-justify space-y-4">
        <h1 class="text-2xl md:text-3xl font-bold text-center mb-4">
          Les transports en commun et le tourisme en France : une cartographie essentielle
        </h1>

        <p>
          Dans le monde actuel, les <strong>transports en commun</strong> jouent un rôle crucial pour permettre aux individus de se déplacer rapidement et à moindre coût. 
          Ils facilitent l’accès aux villes et aux sites touristiques, rendant les voyages plus accessibles à un large public. 
          Grâce à des réseaux bien développés, les touristes peuvent explorer de nombreuses destinations sans dépendre de la voiture individuelle. 
          Ces modes de transport contribuent aussi à réduire l’impact environnemental lié aux déplacements. 
          Cependant, l’efficacité des transports en commun varie selon les régions, influençant ainsi l’attractivité touristique.
        </p>

        <p>
          Pour mieux comprendre cette relation, la carte ci-dessous illustre la répartition des <strong>points touristiques</strong> majeurs en France ainsi que les <strong>gares ferroviaires</strong>. 
          Cette visualisation permet de voir rapidement où se trouvent les infrastructures clés qui soutiennent le tourisme par train.
        </p>
      </div>

      <div class="flex-1 basis-[35%] max-w-[600px] w-full">
        <CarteGareTouriste />
      </div>
    </section>

    <!-- Graphique gares par département -->
    <section>
      <GraphGareDpt />

      <div class="text-justify mx-4 md:mx-16 mt-6 space-y-4">
        <p>
          Le graphique précédent présente le nombre de <strong>gares ferroviaires par département</strong> en France. 
          On observe que si certaines régions bénéficient d’un réseau ferroviaire dense, d’autres départements en sont moins dotés, 
          créant ainsi des disparités dans l’accès au transport en commun.
        </p>

        <p>
          Cette disparité se reflète également dans la carte ci-dessous qui reprend visuellement cette répartition sous forme géographique. 
          Elle permet de localiser rapidement les zones où la présence des gares est plus ou moins forte, 
          ce qui peut impacter directement le tourisme local.
        </p>
      </div>

      <div class="mt-10">
        <CarteGareDpt />
      </div>
    </section>

    <!-- Statut des gares -->
    <section>
      <h2 class="text-center text-2xl md:text-3xl font-semibold mt-12 mb-6">
        Statut des gares : ouvertes ou fermées ?
      </h2>

      <div class="flex flex-wrap justify-between items-center gap-8 lg:gap-16 mx-4 md:mx-16">
        <div class="flex-1 basis-[40%] flex justify-center">
          <Camembert />
        </div>

        <div class="flex-1 basis-[55%] text-justify space-y-4">
          <p>
            Bien que certaines gares soient peu fréquentées et finissent par fermer, elles jouent un rôle important dans le commerce local et l’accueil des touristes. 
            En effet, même des gares moins visitées peuvent favoriser le développement économique et renforcer l’attractivité d’une région.
          </p>

          <p>
            Ces statistiques montrent l’importance de maintenir un réseau ferroviaire actif, 
            car elles sont le lien direct avec les infrastructures touristiques et les autres modes de transport.
          </p>
        </div>
      </div>
    </section>

    <!-- Cartes interactives -->
    <section class="space-y-8 mt-10">
      <CarteTrajet />
      <CarteTouristeLeaflet />
      <CarteGareAccessibles />
    </section>

    <!-- Graphique final -->
    <section class="mt-10">
      <GraphTourismeFerroviaire />
    </section>
  </div>
</Layout>
